<template>
    <c-custom-toast></c-custom-toast>
    <div class="slds-card" style="font-family: 'Open Sans', sans-serif">
        <div class="slds-scrollable" style="height:auto;width:auto;overflow-y:hidden" tabindex="0">
            <div if:true={HydrafacialTreatmentTable}>
    <div class="slds-card__header slds-media slds-media_center">
        <div class="slds-media__figure">
            <lightning-icon icon-name="standard:account" size="large"></lightning-icon>
        </div>

        <div class="slds-media__body slds-card__header-title slds-text-title_bold"
            style="font-size: 22px;font-weight:bold">
            Hydrafacial Treatment Detail
        </div>
    </div>

    <table class="slds-table slds-table_bordered slds-no-row-hover slds-table_cell-buffer">
        <thead>
            <tr>
                <th scope="col" style="width: 3rem;">Sr.</th>
                <th scope="col">Location</th>
                <th scope="col">Cleanser</th>
                <th scope="col">Peel</th>
                <th scope="col">Extractions</th>
                <th scope="col">Serum</th>
                <th scope="col">Booster</th>
                <th scope="col">Moisturizer</th>
                <th scope="col">Notes</th>
                <th scope="col" style="width: 3rem;"></th>
            </tr>
        </thead>
        <tbody>
            <template for:each={listOfRecommendations} for:item="rec">
                <tr key={rec.index} class="slds-hint-parent">
                    <td style="font-weight: bold;">
                        <lightning-formatted-number value={rec.index}></lightning-formatted-number>.
                    </td>
                      <td>
                                    <div class="HydrafacialTreatmentLocation-dropdown">
                                        <lightning-input name="Location__c" data-id={rec.index}
                                            variant="label-hidden" value={rec.HydrafacialTreatmentLocationValues}
                                            onclick={handleInputClick} onkeydown={handleKeydown}></lightning-input>
                                        <template if:false={rec.Location__c}>
                                            <div class="picklist-container">
                                                <template for:each={HydrafacialTreatmentLocationValues} for:item="HydrafacialTreatmentLocationVal">
                                                    <div class="picklist-item" name="HydrafacialTreatmentLocationValues"
                                                        data-id={rec.index} key={HydrafacialTreatmentLocationVal}
                                                        onclick={handleHydrafacialTreatmentLocationSelect} value={HydrafacialTreatmentLocationVal}>
                                                        {HydrafacialTreatmentLocationVal}</div>
                                                </template>
                                            </div>
                                        </template>
                                        <div class="pill-container">
                                            <template for:each={rec.HydrafacialTreatmentLocationValuesList} for:item="HydrafacialTreatmentLocationVal">
                                                <div key={HydrafacialTreatmentLocationVal} class="slds-pill">
                                                    <span class="slds-pill__label">{HydrafacialTreatmentLocationVal}</span>
                                                    <button class="slds-button slds-button_icon slds-pill__remove"
                                                        name={HydrafacialTreatmentLocationVal} data-id={rec.index} title="Remove"
                                                        onclick={handleRemoveHydrafacialTreatmentLocationPill}>
                                                        <lightning-icon icon-name="utility:close"
                                                            alternative-text="Remove" size="xx-small"></lightning-icon>
                                                    </button>
                                                </div>
                                            </template>
                                        </div>
                                    </div>
                                </td>
                   
                    <td>
                        <div class="Cleanser-dropdown">
                            <lightning-input name="Cleanser__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Cleanser__c} onchange={handleInputCleanser}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Peel-dropdown">
                            <lightning-input name="Peel__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Peel__c} onchange={handleInputPeel}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Extractions-dropdown">
                            <lightning-input type="checkbox" name="Extractions__c" checked={rec.Extractions__c}
                                onchange={changeExtractionsHandler} data-id={rec.index}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Serum-dropdown">
                            <lightning-input name="Serum__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Serum__c} onchange={handleInputSerum}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Booster-dropdown">
                            <lightning-input name="Booster__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Booster__c} onchange={handleInputBooster}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Moisturizer-dropdown">
                            <lightning-input name="Moisturizer__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Moisturizer__c} onchange={handleInputMoisturizer}></lightning-input>
                        </div>
                    </td>
                    <td>
                        <div class="Notes-dropdown">
                            <lightning-input name="Notes__c" data-id={rec.index} variant="label-hidden"
                                value={rec.Notes__c} onchange={handleInputNotes}></lightning-input>
                        </div>
                    </td>
                </tr>
            </template>
        </tbody>
    </table>
</div>


         
         <!-----  <div class="slds-docked-form-footer" > !---->
            
            </div>
            <lightning-modal-footer class="my-modal-footer">
                <button class="slds-button slds-button_brand" disabled={isSaveDisabled} onclick={createRecommendations2}>Save</button>

            </lightning-modal-footer>

        <!--</div> !-->
    </div>
</template>